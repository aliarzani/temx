{"ast":null,"code":"import _defineProperty from \"/workspaces/temx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { convertOrderEvent } from '../openOrders/helpers';\nimport { ORDERS_CANCEL_ALL_DATA, ORDERS_CANCEL_ALL_ERROR, ORDERS_CANCEL_ALL_FETCH, ORDERS_HISTORY_CANCEL_DATA, ORDERS_HISTORY_CANCEL_ERROR, ORDERS_HISTORY_CANCEL_FETCH, ORDERS_HISTORY_DATA, ORDERS_HISTORY_ERROR, ORDERS_HISTORY_FETCH, ORDERS_HISTORY_RANGER_DATA, ORDERS_HISTORY_RESET } from './constants';\nimport { insertOrUpdate } from './helpers';\nexport var initialOrdersHistoryState = {\n  list: [],\n  fetching: false,\n  total: 0,\n  pageIndex: 0,\n  cancelAllFetching: false,\n  cancelAllError: false,\n  cancelError: false,\n  cancelFetching: false\n};\nexport var ordersHistoryReducer = function ordersHistoryReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialOrdersHistoryState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ORDERS_HISTORY_FETCH:\n      return _objectSpread({}, state, {\n        fetching: true\n      });\n\n    case ORDERS_HISTORY_DATA:\n      return _objectSpread({}, state, {\n        list: action.payload.list,\n        fetching: false,\n        pageIndex: action.payload.pageIndex,\n        total: action.payload.total\n      });\n\n    case ORDERS_HISTORY_RANGER_DATA:\n      return _objectSpread({}, state, {\n        cancelFetching: false,\n        list: insertOrUpdate(state.list, convertOrderEvent(action.payload))\n      });\n\n    case ORDERS_HISTORY_ERROR:\n      return _objectSpread({}, state, {\n        list: [],\n        total: 0,\n        pageIndex: 0,\n        fetching: false\n      });\n\n    case ORDERS_CANCEL_ALL_FETCH:\n      return _objectSpread({}, state, {\n        cancelAllFetching: true,\n        cancelAllError: false\n      });\n\n    case ORDERS_CANCEL_ALL_DATA:\n      return _objectSpread({}, state, {\n        cancelAllFetching: false,\n        list: action.payload\n      });\n\n    case ORDERS_CANCEL_ALL_ERROR:\n      return _objectSpread({}, state, {\n        cancelAllFetching: false,\n        cancelAllError: true\n      });\n\n    case ORDERS_HISTORY_CANCEL_FETCH:\n      return _objectSpread({}, state, {\n        cancelFetching: true,\n        cancelError: false\n      });\n\n    case ORDERS_HISTORY_CANCEL_DATA:\n      return _objectSpread({}, state, {\n        cancelFetching: false,\n        list: action.payload,\n        total: state.total ? state.total - 1 : 0\n      });\n\n    case ORDERS_HISTORY_CANCEL_ERROR:\n      return _objectSpread({}, state, {\n        cancelFetching: false,\n        cancelError: true\n      });\n\n    case ORDERS_HISTORY_RESET:\n      {\n        return _objectSpread({}, state, {\n          list: [],\n          total: 0,\n          pageIndex: 0,\n          fetching: false\n        });\n      }\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/workspaces/temx/src/modules/user/ordersHistory/reducer.ts"],"names":["convertOrderEvent","ORDERS_CANCEL_ALL_DATA","ORDERS_CANCEL_ALL_ERROR","ORDERS_CANCEL_ALL_FETCH","ORDERS_HISTORY_CANCEL_DATA","ORDERS_HISTORY_CANCEL_ERROR","ORDERS_HISTORY_CANCEL_FETCH","ORDERS_HISTORY_DATA","ORDERS_HISTORY_ERROR","ORDERS_HISTORY_FETCH","ORDERS_HISTORY_RANGER_DATA","ORDERS_HISTORY_RESET","insertOrUpdate","initialOrdersHistoryState","list","fetching","total","pageIndex","cancelAllFetching","cancelAllError","cancelError","cancelFetching","ordersHistoryReducer","state","action","type","payload"],"mappings":"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","sourcesContent":["import { OrderCommon } from '../../types';\nimport { convertOrderEvent } from '../openOrders/helpers';\nimport { OrdersHistoryAction } from './actions';\nimport {\n    ORDERS_CANCEL_ALL_DATA,\n    ORDERS_CANCEL_ALL_ERROR,\n    ORDERS_CANCEL_ALL_FETCH,\n    ORDERS_HISTORY_CANCEL_DATA,\n    ORDERS_HISTORY_CANCEL_ERROR,\n    ORDERS_HISTORY_CANCEL_FETCH,\n    ORDERS_HISTORY_DATA,\n    ORDERS_HISTORY_ERROR,\n    ORDERS_HISTORY_FETCH,\n    ORDERS_HISTORY_RANGER_DATA,\n    ORDERS_HISTORY_RESET,\n} from './constants';\nimport { insertOrUpdate } from './helpers';\n\nexport interface OrdersHistoryState {\n    list: OrderCommon[];\n    fetching: boolean;\n    total: number;\n    pageIndex: number;\n    cancelAllFetching: boolean;\n    cancelAllError: boolean;\n    cancelError: boolean;\n    cancelFetching: boolean;\n}\n\nexport const initialOrdersHistoryState: OrdersHistoryState = {\n    list: [],\n    fetching: false,\n    total: 0,\n    pageIndex: 0,\n    cancelAllFetching: false,\n    cancelAllError: false,\n    cancelError: false,\n    cancelFetching: false,\n};\n\n\nexport const ordersHistoryReducer = (\n    state = initialOrdersHistoryState,\n    action: OrdersHistoryAction,\n): OrdersHistoryState => {\n    switch (action.type) {\n        case ORDERS_HISTORY_FETCH:\n            return { ...state, fetching: true };\n        case ORDERS_HISTORY_DATA:\n            return {\n                ...state,\n                list: action.payload.list,\n                fetching: false,\n                pageIndex: action.payload.pageIndex,\n                total: action.payload.total,\n            };\n        case ORDERS_HISTORY_RANGER_DATA:\n            return { ...state, cancelFetching: false, list: insertOrUpdate(state.list, convertOrderEvent(action.payload)) };\n        case ORDERS_HISTORY_ERROR:\n            return { ...state, list: [], total: 0, pageIndex: 0, fetching: false };\n        case ORDERS_CANCEL_ALL_FETCH:\n            return { ...state, cancelAllFetching: true, cancelAllError: false };\n        case ORDERS_CANCEL_ALL_DATA:\n            return { ...state, cancelAllFetching: false, list: action.payload };\n        case ORDERS_CANCEL_ALL_ERROR:\n            return { ...state, cancelAllFetching: false, cancelAllError: true };\n        case ORDERS_HISTORY_CANCEL_FETCH:\n            return { ...state, cancelFetching: true, cancelError: false };\n        case ORDERS_HISTORY_CANCEL_DATA:\n            return { ...state, cancelFetching: false, list: action.payload, total: state.total ? state.total - 1 : 0 };\n        case ORDERS_HISTORY_CANCEL_ERROR:\n            return { ...state, cancelFetching: false, cancelError: true };\n        case ORDERS_HISTORY_RESET: {\n            return { ...state, list: [], total: 0, pageIndex: 0, fetching: false };\n        }\n        default:\n            return state;\n    }\n};\n"]},"metadata":{},"sourceType":"module"}