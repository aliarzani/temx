{"ast":null,"code":"import _toConsumableArray from \"/workspaces/temx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/workspaces/temx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { getUnique } from '../../../helpers/getUnique';\nimport { HISTORY_DATA, HISTORY_ERROR, HISTORY_FETCH, HISTORY_PUSH_FINISH, HISTORY_RESET } from './constants';\nvar initialState = {\n  list: [],\n  fetching: false,\n  fullHistory: 0,\n  page: 0\n};\nexport var historyReducer = function historyReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HISTORY_FETCH:\n      return _objectSpread({}, state, {\n        fetching: true\n      });\n\n    case HISTORY_DATA:\n      return _objectSpread({}, state, {\n        list: action.payload.list,\n        fetching: false,\n        page: action.payload.page,\n        fullHistory: action.payload.fullHistory\n      });\n\n    case HISTORY_ERROR:\n      {\n        return _objectSpread({}, state, {\n          list: [],\n          fetching: false,\n          fullHistory: 0,\n          page: 0\n        });\n      }\n\n    case HISTORY_RESET:\n      {\n        return _objectSpread({}, state, {\n          list: [],\n          fullHistory: 0,\n          page: 0\n        });\n      }\n\n    case HISTORY_PUSH_FINISH:\n      {\n        var list = _toConsumableArray(action.payload);\n\n        list = getUnique(list, 'id');\n        return _objectSpread({}, state, {\n          list: list\n        });\n      }\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/workspaces/temx/src/modules/user/history/reducer.ts"],"names":["getUnique","HISTORY_DATA","HISTORY_ERROR","HISTORY_FETCH","HISTORY_PUSH_FINISH","HISTORY_RESET","initialState","list","fetching","fullHistory","page","historyReducer","state","action","type","payload"],"mappings":";;;;;;;AAAA,SAASA,SAAT,QAA0B,4BAA1B;AAEA,SACIC,YADJ,EAEIC,aAFJ,EAGIC,aAHJ,EAIIC,mBAJJ,EAKIC,aALJ,QAMO,aANP;AAgBA,IAAMC,YAA0B,GAAG;AAC/BC,EAAAA,IAAI,EAAE,EADyB;AAE/BC,EAAAA,QAAQ,EAAE,KAFqB;AAG/BC,EAAAA,WAAW,EAAE,CAHkB;AAI/BC,EAAAA,IAAI,EAAE;AAJyB,CAAnC;AAQA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAkD;AAAA,MAAjDC,KAAiD,uEAAzCN,YAAyC;AAAA,MAA3BO,MAA2B;;AAC5E,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKX,aAAL;AACI,+BAAYS,KAAZ;AAAmBJ,QAAAA,QAAQ,EAAE;AAA7B;;AACJ,SAAKP,YAAL;AACI,+BACOW,KADP;AAEIL,QAAAA,IAAI,EAAEM,MAAM,CAACE,OAAP,CAAeR,IAFzB;AAGIC,QAAAA,QAAQ,EAAE,KAHd;AAIIE,QAAAA,IAAI,EAAEG,MAAM,CAACE,OAAP,CAAeL,IAJzB;AAKID,QAAAA,WAAW,EAAEI,MAAM,CAACE,OAAP,CAAeN;AALhC;;AAOJ,SAAKP,aAAL;AAAoB;AAChB,iCAAYU,KAAZ;AAAmBL,UAAAA,IAAI,EAAE,EAAzB;AAA6BC,UAAAA,QAAQ,EAAE,KAAvC;AAA8CC,UAAAA,WAAW,EAAE,CAA3D;AAA8DC,UAAAA,IAAI,EAAE;AAApE;AACH;;AACD,SAAKL,aAAL;AAAoB;AAChB,iCAAYO,KAAZ;AAAmBL,UAAAA,IAAI,EAAE,EAAzB;AAA6BE,UAAAA,WAAW,EAAE,CAA1C;AAA6CC,UAAAA,IAAI,EAAE;AAAnD;AACH;;AACD,SAAKN,mBAAL;AAA0B;AACtB,YAAIG,IAAI,sBAAOM,MAAM,CAACE,OAAd,CAAR;;AACAR,QAAAA,IAAI,GAAGP,SAAS,CAACO,IAAD,EAAO,IAAP,CAAhB;AACA,iCAAYK,KAAZ;AAAmBL,UAAAA,IAAI,EAAEA;AAAzB;AACH;;AACD;AACI,aAAOK,KAAP;AAvBR;AAyBH,CA1BM","sourcesContent":["import { getUnique } from '../../../helpers/getUnique';\nimport { HistoryActions } from './actions';\nimport {\n    HISTORY_DATA,\n    HISTORY_ERROR,\n    HISTORY_FETCH,\n    HISTORY_PUSH_FINISH,\n    HISTORY_RESET,\n} from './constants';\nimport { WalletHistoryList } from './types';\n\nexport interface HistoryState {\n    list: WalletHistoryList;\n    fetching: boolean;\n    fullHistory: number;\n    page: number;\n}\n\nconst initialState: HistoryState = {\n    list: [],\n    fetching: false,\n    fullHistory: 0,\n    page: 0,\n};\n\n\nexport const historyReducer = (state = initialState, action: HistoryActions) => {\n    switch (action.type) {\n        case HISTORY_FETCH:\n            return { ...state, fetching: true };\n        case HISTORY_DATA:\n            return {\n                ...state,\n                list: action.payload.list,\n                fetching: false,\n                page: action.payload.page,\n                fullHistory: action.payload.fullHistory,\n            };\n        case HISTORY_ERROR: {\n            return { ...state, list: [], fetching: false, fullHistory: 0, page: 0 };\n        }\n        case HISTORY_RESET: {\n            return { ...state, list: [], fullHistory: 0, page: 0 };\n        }\n        case HISTORY_PUSH_FINISH: {\n            let list = [...action.payload];\n            list = getUnique(list, 'id');\n            return { ...state, list: list };\n        }\n        default:\n            return state;\n    }\n};\n"]},"metadata":{},"sourceType":"module"}