{"ast":null,"code":"import _defineProperty from \"/workspaces/codespaces-blank/baseapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar ListReduceHelper = function ListReduceHelper(list, order) {\n  var listReduce = list.reduce(function (memo, item) {\n    if (order.id !== item.id) {\n      memo.push(item);\n    }\n\n    return memo;\n  }, []);\n  return [_objectSpread({}, order)].concat(listReduce);\n};\n\nexport var insertOrUpdate = function insertOrUpdate(list, order) {\n  var index = list.findIndex(function (value) {\n    return value.id === order.id;\n  });\n\n  switch (order.state) {\n    case 'wait':\n      if (index === -1) {\n        return [_objectSpread({}, order)].concat(list);\n      }\n\n      if (index !== -1) {\n        return ListReduceHelper(list, order);\n      }\n\n      return list;\n\n    case 'done':\n      if (index === -1) {\n        return [_objectSpread({}, order)].concat(list);\n      }\n\n      return list.map(function (item) {\n        if (order.id === item.id) {\n          return _objectSpread({}, order);\n        }\n\n        return item;\n      });\n\n    case 'cancel':\n      return ListReduceHelper(list, order);\n\n    default:\n      return list.reduce(function (memo, item) {\n        if (order.id !== item.id) {\n          memo.push(item);\n        }\n\n        return memo;\n      }, []);\n  }\n};","map":{"version":3,"sources":["/workspaces/codespaces-blank/baseapp-master/src/modules/user/ordersHistory/helpers.ts"],"names":["ListReduceHelper","list","order","listReduce","reduce","memo","item","id","push","concat","insertOrUpdate","index","findIndex","value","state","map"],"mappings":";;;;;;AAEA,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,IAAD,EAAOC,KAAP,EAAiB;AACtC,MAAMC,UAAU,GAAGF,IAAI,CAACG,MAAL,CAAY,UAACC,IAAD,EAAsBC,IAAtB,EAA2D;AACtF,QAAIJ,KAAK,CAACK,EAAN,KAAaD,IAAI,CAACC,EAAtB,EAA0B;AACtBF,MAAAA,IAAI,CAACG,IAAL,CAAUF,IAAV;AACH;;AACD,WAAOD,IAAP;AACH,GALkB,EAKhB,EALgB,CAAnB;AAMA,SAAO,mBAAKH,KAAL,GAAaO,MAAb,CAAoBN,UAApB,CAAP;AACH,CARD;;AAUA,OAAO,IAAMO,cAAc,GAAG,SAAjBA,cAAiB,CAACT,IAAD,EAAsBC,KAAtB,EAA4D;AACtF,MAAMS,KAAK,GAAGV,IAAI,CAACW,SAAL,CAAe,UAACC,KAAD;AAAA,WAAwBA,KAAK,CAACN,EAAN,KAAaL,KAAK,CAACK,EAA3C;AAAA,GAAf,CAAd;;AACA,UAAQL,KAAK,CAACY,KAAd;AACI,SAAK,MAAL;AACI,UAAIH,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,eAAO,mBAAKT,KAAL,GAAaO,MAAb,CAAoBR,IAApB,CAAP;AACH;;AACD,UAAIU,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,eAAOX,gBAAgB,CAACC,IAAD,EAAOC,KAAP,CAAvB;AACH;;AACD,aAAOD,IAAP;;AACJ,SAAK,MAAL;AACI,UAAIU,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,eAAO,mBAAKT,KAAL,GAAaO,MAAb,CAAoBR,IAApB,CAAP;AACH;;AACD,aAAOA,IAAI,CAACc,GAAL,CAAS,UAAAT,IAAI,EAAI;AACpB,YAAIJ,KAAK,CAACK,EAAN,KAAaD,IAAI,CAACC,EAAtB,EAA0B;AACtB,mCAAWL,KAAX;AACH;;AACD,eAAOI,IAAP;AACH,OALM,CAAP;;AAMJ,SAAK,QAAL;AACI,aAAON,gBAAgB,CAACC,IAAD,EAAOC,KAAP,CAAvB;;AACJ;AACI,aAAOD,IAAI,CAACG,MAAL,CAAY,UAACC,IAAD,EAAsBC,IAAtB,EAA2D;AAC1E,YAAIJ,KAAK,CAACK,EAAN,KAAaD,IAAI,CAACC,EAAtB,EAA0B;AACtBF,UAAAA,IAAI,CAACG,IAAL,CAAUF,IAAV;AACH;;AACD,eAAOD,IAAP;AACH,OALM,EAKJ,EALI,CAAP;AAtBR;AA6BH,CA/BM","sourcesContent":["import { OrderCommon } from '../../types';\n\nconst ListReduceHelper = (list, order) => {\n    const listReduce = list.reduce((memo: OrderCommon[], item: OrderCommon): OrderCommon[] => {\n        if (order.id !== item.id) {\n            memo.push(item);\n        }\n        return memo;\n    }, []);\n    return [{...order}].concat(listReduce);\n};\n\nexport const insertOrUpdate = (list: OrderCommon[], order: OrderCommon): OrderCommon[] => {\n    const index = list.findIndex((value: OrderCommon) => value.id === order.id);\n    switch (order.state) {\n        case 'wait':\n            if (index === -1) {\n                return [{...order}].concat(list);\n            }\n            if (index !== -1) {\n                return ListReduceHelper(list, order);\n            }\n            return list;\n        case 'done':\n            if (index === -1) {\n                return [{...order}].concat(list);\n            }\n            return list.map(item => {\n                if (order.id === item.id) {\n                    return {...order};\n                }\n                return item;\n            });\n        case 'cancel':\n            return ListReduceHelper(list, order);\n        default:\n            return list.reduce((memo: OrderCommon[], item: OrderCommon): OrderCommon[] => {\n                if (order.id !== item.id) {\n                    memo.push(item);\n                }\n                return memo;\n            }, []);\n    }\n};\n"]},"metadata":{},"sourceType":"module"}