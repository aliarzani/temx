{"ast":null,"code":"import _classCallCheck from \"/workspaces/codespaces-blank/baseapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/workspaces/codespaces-blank/baseapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/workspaces/codespaces-blank/baseapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/workspaces/codespaces-blank/baseapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/workspaces/codespaces-blank/baseapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/workspaces/codespaces-blank/baseapp-master/src/screens/VerificationScreen/index.tsx\";\nimport * as React from 'react';\nimport { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router';\nimport { changeLanguage as _changeLanguage, selectEmailVerified, verificationFetch } from '../../modules';\nexport var extractToken = function extractToken(props) {\n  return new URLSearchParams(props.location.search).get('confirmation_token');\n};\nexport var extractLang = function extractLang(props) {\n  return new URLSearchParams(props.location.search).get('lang');\n};\n\nvar Verification =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Verification, _React$Component);\n\n  function Verification() {\n    _classCallCheck(this, Verification);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Verification).apply(this, arguments));\n  }\n\n  _createClass(Verification, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var token = extractToken(this.props);\n      var lang = extractLang(this.props);\n\n      if (token) {\n        this.props.verification({\n          token: token\n        });\n      }\n\n      if (lang) {\n        this.props.changeLanguage(lang.toLowerCase());\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Redirect, {\n        to: '/signin',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Verification;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isEmailVerified: selectEmailVerified(state)\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    verification: function verification(data) {\n      return dispatch(verificationFetch(data));\n    },\n    changeLanguage: function changeLanguage(lang) {\n      return dispatch(_changeLanguage(lang));\n    }\n  };\n};\n\nvar VerificationScreen = injectIntl(connect(mapStateToProps, mapDispatchToProps)(Verification));\nexport { VerificationScreen };","map":{"version":3,"sources":["/workspaces/codespaces-blank/baseapp-master/src/screens/VerificationScreen/index.tsx"],"names":["React","injectIntl","connect","Redirect","changeLanguage","selectEmailVerified","verificationFetch","extractToken","props","URLSearchParams","location","search","get","extractLang","Verification","token","lang","verification","toLowerCase","Component","mapStateToProps","state","isEmailVerified","mapDispatchToProps","dispatch","data","VerificationScreen"],"mappings":";;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAA4BC,UAA5B,QAA8C,YAA9C;AACA,SACIC,OADJ,QAIO,aAJP;AAKA,SAASC,QAAT,QAAyB,cAAzB;AACA,SACIC,cAAc,IAAdA,eADJ,EAGIC,mBAHJ,EAIIC,iBAJJ,QAKO,eALP;AA0BA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD;AAAA,SAAwB,IAAIC,eAAJ,CAAoBD,KAAK,CAACE,QAAN,CAAeC,MAAnC,EAA2CC,GAA3C,CAA+C,oBAA/C,CAAxB;AAAA,CAArB;AACP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACL,KAAD;AAAA,SAAwB,IAAIC,eAAJ,CAAoBD,KAAK,CAACE,QAAN,CAAeC,MAAnC,EAA2CC,GAA3C,CAA+C,MAA/C,CAAxB;AAAA,CAApB;;IAEDE,Y;;;;;;;;;;;;;wCACyB;AACvB,UAAMC,KAAK,GAAGR,YAAY,CAAC,KAAKC,KAAN,CAA1B;AACA,UAAMQ,IAAI,GAAGH,WAAW,CAAC,KAAKL,KAAN,CAAxB;;AACA,UAAIO,KAAJ,EAAW;AACP,aAAKP,KAAL,CAAWS,YAAX,CAAwB;AAAEF,UAAAA,KAAK,EAALA;AAAF,SAAxB;AACH;;AACD,UAAIC,IAAJ,EAAU;AACN,aAAKR,KAAL,CAAWJ,cAAX,CAA0BY,IAAI,CAACE,WAAL,EAA1B;AACH;AACJ;;;6BAEe;AACZ,aACI,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH;;;;EAhBsBlB,KAAK,CAACmB,S;;AAmBjC,IAAMC,eAA2D,GAAG,SAA9DA,eAA8D,CAAAC,KAAK;AAAA,SAAK;AAC1EC,IAAAA,eAAe,EAAEjB,mBAAmB,CAACgB,KAAD;AADsC,GAAL;AAAA,CAAzE;;AAIA,IAAME,kBAAiE,GACnE,SADEA,kBACF,CAAAC,QAAQ;AAAA,SAAK;AACTP,IAAAA,YAAY,EAAE,sBAAAQ,IAAI;AAAA,aAAID,QAAQ,CAAClB,iBAAiB,CAACmB,IAAD,CAAlB,CAAZ;AAAA,KADT;AAETrB,IAAAA,cAAc,EAAE,wBAAAY,IAAI;AAAA,aAAIQ,QAAQ,CAACpB,eAAc,CAACY,IAAD,CAAf,CAAZ;AAAA;AAFX,GAAL;AAAA,CADZ;;AAMA,IAAMU,kBAAkB,GAAGzB,UAAU,CAACC,OAAO,CAACkB,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CT,YAA7C,CAAD,CAArC;AAEA,SACIY,kBADJ","sourcesContent":["import * as React from 'react';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport {\n    connect,\n    MapDispatchToPropsFunction,\n    MapStateToProps,\n} from 'react-redux';\nimport { Redirect } from 'react-router';\nimport {\n    changeLanguage,\n    RootState,\n    selectEmailVerified,\n    verificationFetch,\n} from '../../modules';\nimport { CommonError } from '../../modules/types';\n\ninterface DispatchProps {\n    verification: typeof verificationFetch;\n    changeLanguage: typeof changeLanguage;\n}\n\ninterface ReduxProps {\n    isEmailVerified?: boolean;\n    error?: CommonError;\n}\n\nexport interface RouterProps {\n    location: {\n        search: string;\n    };\n}\n\ntype Props = DispatchProps & RouterProps & ReduxProps;\n\nexport const extractToken = (props: RouterProps) => new URLSearchParams(props.location.search).get('confirmation_token');\nexport const extractLang = (props: RouterProps) => new URLSearchParams(props.location.search).get('lang');\n\nclass Verification extends React.Component<Props, InjectedIntlProps> {\n    public componentDidMount() {\n        const token = extractToken(this.props);\n        const lang = extractLang(this.props);\n        if (token) {\n            this.props.verification({ token });\n        }\n        if (lang) {\n            this.props.changeLanguage(lang.toLowerCase());\n        }\n    }\n\n    public render() {\n        return (\n            <Redirect to={'/signin'} />\n        );\n    }\n}\n\nconst mapStateToProps: MapStateToProps<ReduxProps, {}, RootState> = state => ({\n    isEmailVerified: selectEmailVerified(state),\n});\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<DispatchProps, {}> =\n    dispatch => ({\n        verification: data => dispatch(verificationFetch(data)),\n        changeLanguage: lang => dispatch(changeLanguage(lang)),\n    });\n\nconst VerificationScreen = injectIntl(connect(mapStateToProps, mapDispatchToProps)(Verification));\n\nexport {\n    VerificationScreen,\n};\n"]},"metadata":{},"sourceType":"module"}