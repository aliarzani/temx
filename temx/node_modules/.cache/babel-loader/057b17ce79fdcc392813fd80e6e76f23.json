{"ast":null,"code":"import _defineProperty from \"/workspaces/codespaces-blank/baseapp-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { PROFILE_CHANGE_PASSWORD_DATA, PROFILE_CHANGE_PASSWORD_ERROR, PROFILE_CHANGE_PASSWORD_FETCH, PROFILE_CHANGE_USER_LEVEL, PROFILE_GENERATE_2FA_QRCODE_DATA, PROFILE_GENERATE_2FA_QRCODE_ERROR, PROFILE_GENERATE_2FA_QRCODE_FETCH, PROFILE_IDENTITY_DATA, PROFILE_IDENTITY_ERROR, PROFILE_IDENTITY_FETCH, PROFILE_RESET_USER, PROFILE_TIERS_DATA, PROFILE_TIERS_DISABLE, PROFILE_TIERS_ERROR, PROFILE_TIERS_FETCH, PROFILE_TOGGLE_2FA_DATA, PROFILE_TOGGLE_2FA_ERROR, PROFILE_TOGGLE_2FA_FETCH, PROFILE_TOGGLE_USER_2FA, PROFILE_USER_DATA, PROFILE_USER_ERROR, PROFILE_USER_FETCH } from './constants';\nvar defaultTier = {\n  color: '',\n  name: '',\n  min_holding: 0,\n  fee_discount: 0\n};\nvar defaultUser = {\n  email: '',\n  level: 0,\n  otp: false,\n  role: '',\n  state: '',\n  uid: ''\n};\nvar defaultProfileIdentity = {\n  first_name: '',\n  last_name: '',\n  dob: '',\n  address: '',\n  postcode: '',\n  city: '',\n  country: '',\n  number: ''\n};\nexport var initialStateProfile = {\n  passwordChange: {\n    success: false\n  },\n  twoFactorAuth: {\n    barcode: '',\n    url: ''\n  },\n  tiers: {\n    tier: defaultTier,\n    disabled: false\n  },\n  userData: {\n    user: defaultUser,\n    isFetching: true\n  },\n  identity: {\n    profileIdentity: defaultProfileIdentity,\n    isFetching: true\n  }\n};\n\nvar passwordChangeReducer = function passwordChangeReducer(state, action) {\n  switch (action.type) {\n    case PROFILE_CHANGE_PASSWORD_FETCH:\n      return _objectSpread({}, state, {\n        success: false,\n        error: undefined\n      });\n\n    case PROFILE_CHANGE_PASSWORD_DATA:\n      return _objectSpread({}, state, {\n        success: true,\n        error: undefined\n      });\n\n    case PROFILE_CHANGE_PASSWORD_ERROR:\n      return _objectSpread({}, state, {\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar twoAuthReducer = function twoAuthReducer(state, action) {\n  switch (action.type) {\n    case PROFILE_GENERATE_2FA_QRCODE_FETCH:\n      return _objectSpread({}, state, {\n        success: false,\n        error: undefined,\n        barcode: '',\n        url: ''\n      });\n\n    case PROFILE_GENERATE_2FA_QRCODE_DATA:\n      return _objectSpread({}, state, {\n        error: undefined,\n        barcode: action.payload.barcode,\n        url: action.payload.url\n      });\n\n    case PROFILE_GENERATE_2FA_QRCODE_ERROR:\n      return _objectSpread({}, state, {\n        success: false,\n        error: action.payload,\n        barcode: '',\n        url: ''\n      });\n\n    case PROFILE_TOGGLE_2FA_FETCH:\n      return _objectSpread({}, state, {\n        success: false,\n        error: undefined\n      });\n\n    case PROFILE_TOGGLE_2FA_DATA:\n      return _objectSpread({}, state, {\n        success: true,\n        error: undefined\n      });\n\n    case PROFILE_TOGGLE_2FA_ERROR:\n      return _objectSpread({}, state, {\n        success: false,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar tiersReducer = function tiersReducer(state, action) {\n  switch (action.type) {\n    case PROFILE_TIERS_FETCH:\n      return _objectSpread({}, state, {\n        disabled: false,\n        error: undefined,\n        tier: defaultTier\n      });\n\n    case PROFILE_TIERS_DATA:\n      return _objectSpread({}, state, {\n        error: undefined,\n        disabled: false,\n        tier: action.payload\n      });\n\n    case PROFILE_TIERS_ERROR:\n      return _objectSpread({}, state, {\n        disabled: false,\n        error: action.payload\n      });\n\n    case PROFILE_TIERS_DISABLE:\n      return _objectSpread({}, state, {\n        disabled: true\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport var userReducer = function userReducer(state, action) {\n  switch (action.type) {\n    case PROFILE_USER_FETCH:\n      return _objectSpread({}, state, {\n        isFetching: true\n      });\n\n    case PROFILE_USER_DATA:\n      return _objectSpread({}, state, {\n        isFetching: false,\n        user: action.payload.user\n      });\n\n    case PROFILE_USER_ERROR:\n      return _objectSpread({}, state, {\n        isFetching: false,\n        error: action.payload\n      });\n\n    case PROFILE_RESET_USER:\n      return _objectSpread({}, state, {\n        user: initialStateProfile.userData.user\n      });\n\n    case PROFILE_CHANGE_USER_LEVEL:\n      return _objectSpread({}, state, {\n        user: _objectSpread({}, state.user, {\n          level: action.payload.level\n        })\n      });\n\n    case PROFILE_TOGGLE_USER_2FA:\n      return _objectSpread({}, state, {\n        user: _objectSpread({}, state.user, {\n          otp: !state.user.otp\n        })\n      });\n\n    default:\n      return state;\n  }\n};\nexport var profileIdentityReducer = function profileIdentityReducer(state, action) {\n  switch (action.type) {\n    case PROFILE_IDENTITY_FETCH:\n      return _objectSpread({}, state, {\n        isFetching: true\n      });\n\n    case PROFILE_IDENTITY_DATA:\n      return _objectSpread({}, state, {\n        isFetching: false,\n        profileIdentity: action.payload\n      });\n\n    case PROFILE_IDENTITY_ERROR:\n      return _objectSpread({}, state, {\n        isFetching: false,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\nexport var profileReducer = function profileReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialStateProfile;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case PROFILE_CHANGE_PASSWORD_FETCH:\n    case PROFILE_CHANGE_PASSWORD_DATA:\n    case PROFILE_CHANGE_PASSWORD_ERROR:\n      var passwordChangeState = _objectSpread({}, state.passwordChange);\n\n      return _objectSpread({}, state, {\n        passwordChange: passwordChangeReducer(passwordChangeState, action)\n      });\n\n    case PROFILE_GENERATE_2FA_QRCODE_FETCH:\n    case PROFILE_GENERATE_2FA_QRCODE_DATA:\n    case PROFILE_GENERATE_2FA_QRCODE_ERROR:\n    case PROFILE_TOGGLE_2FA_FETCH:\n    case PROFILE_TOGGLE_2FA_DATA:\n    case PROFILE_TOGGLE_2FA_ERROR:\n      var twoFactorAuthState = _objectSpread({}, state.twoFactorAuth);\n\n      return _objectSpread({}, state, {\n        twoFactorAuth: twoAuthReducer(twoFactorAuthState, action)\n      });\n\n    case PROFILE_TIERS_FETCH:\n    case PROFILE_TIERS_DATA:\n    case PROFILE_TIERS_DISABLE:\n    case PROFILE_TIERS_ERROR:\n      var tiersState = _objectSpread({}, state.tiers);\n\n      return _objectSpread({}, state, {\n        tiers: tiersReducer(tiersState, action)\n      });\n\n    case PROFILE_USER_FETCH:\n    case PROFILE_USER_DATA:\n    case PROFILE_RESET_USER:\n    case PROFILE_USER_ERROR:\n    case PROFILE_CHANGE_USER_LEVEL:\n    case PROFILE_TOGGLE_USER_2FA:\n      var userState = _objectSpread({}, state.userData);\n\n      return _objectSpread({}, state, {\n        userData: userReducer(userState, action)\n      });\n\n    case PROFILE_IDENTITY_FETCH:\n    case PROFILE_IDENTITY_DATA:\n    case PROFILE_IDENTITY_ERROR:\n      var profileIdentityState = _objectSpread({}, state.identity);\n\n      return _objectSpread({}, state, {\n        identity: profileIdentityReducer(profileIdentityState, action)\n      });\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/workspaces/codespaces-blank/baseapp-master/src/modules/user/profile/reducer.ts"],"names":["PROFILE_CHANGE_PASSWORD_DATA","PROFILE_CHANGE_PASSWORD_ERROR","PROFILE_CHANGE_PASSWORD_FETCH","PROFILE_CHANGE_USER_LEVEL","PROFILE_GENERATE_2FA_QRCODE_DATA","PROFILE_GENERATE_2FA_QRCODE_ERROR","PROFILE_GENERATE_2FA_QRCODE_FETCH","PROFILE_IDENTITY_DATA","PROFILE_IDENTITY_ERROR","PROFILE_IDENTITY_FETCH","PROFILE_RESET_USER","PROFILE_TIERS_DATA","PROFILE_TIERS_DISABLE","PROFILE_TIERS_ERROR","PROFILE_TIERS_FETCH","PROFILE_TOGGLE_2FA_DATA","PROFILE_TOGGLE_2FA_ERROR","PROFILE_TOGGLE_2FA_FETCH","PROFILE_TOGGLE_USER_2FA","PROFILE_USER_DATA","PROFILE_USER_ERROR","PROFILE_USER_FETCH","defaultTier","color","name","min_holding","fee_discount","defaultUser","email","level","otp","role","state","uid","defaultProfileIdentity","first_name","last_name","dob","address","postcode","city","country","number","initialStateProfile","passwordChange","success","twoFactorAuth","barcode","url","tiers","tier","disabled","userData","user","isFetching","identity","profileIdentity","passwordChangeReducer","action","type","error","undefined","payload","twoAuthReducer","tiersReducer","userReducer","profileIdentityReducer","profileReducer","passwordChangeState","twoFactorAuthState","tiersState","userState","profileIdentityState"],"mappings":"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","sourcesContent":["import { CommonError } from '../../types';\nimport { ProfileAction, ProfileIdentity, Tier, User } from './actions';\nimport {\n    PROFILE_CHANGE_PASSWORD_DATA,\n    PROFILE_CHANGE_PASSWORD_ERROR,\n    PROFILE_CHANGE_PASSWORD_FETCH,\n    PROFILE_CHANGE_USER_LEVEL,\n    PROFILE_GENERATE_2FA_QRCODE_DATA,\n    PROFILE_GENERATE_2FA_QRCODE_ERROR,\n    PROFILE_GENERATE_2FA_QRCODE_FETCH,\n    PROFILE_IDENTITY_DATA,\n    PROFILE_IDENTITY_ERROR,\n    PROFILE_IDENTITY_FETCH,\n    PROFILE_RESET_USER,\n    PROFILE_TIERS_DATA,\n    PROFILE_TIERS_DISABLE,\n    PROFILE_TIERS_ERROR,\n    PROFILE_TIERS_FETCH,\n    PROFILE_TOGGLE_2FA_DATA,\n    PROFILE_TOGGLE_2FA_ERROR,\n    PROFILE_TOGGLE_2FA_FETCH,\n    PROFILE_TOGGLE_USER_2FA,\n    PROFILE_USER_DATA,\n    PROFILE_USER_ERROR,\n    PROFILE_USER_FETCH,\n} from './constants';\n\nexport interface ProfileState {\n    passwordChange: {\n        success?: boolean;\n        error?: CommonError;\n    };\n    twoFactorAuth: {\n        barcode: string;\n        url: string;\n        success?: boolean;\n        error?: CommonError;\n    };\n    tiers: {\n        tier: Tier;\n        disabled: boolean;\n        error?: CommonError;\n    };\n    userData: {\n        user: User;\n        error?: CommonError;\n        isFetching: boolean;\n    };\n    identity: {\n        profileIdentity: ProfileIdentity;\n        error?: CommonError;\n        isFetching: boolean;\n    };\n}\n\nconst defaultTier = {\n    color: '',\n    name: '',\n    min_holding: 0,\n    fee_discount: 0,\n};\n\nconst defaultUser = {\n    email: '',\n    level: 0,\n    otp: false,\n    role: '',\n    state: '',\n    uid: '',\n};\n\nconst defaultProfileIdentity = {\n    first_name: '',\n    last_name: '',\n    dob: '',\n    address: '',\n    postcode: '',\n    city: '',\n    country: '',\n    number: '',\n};\n\nexport const initialStateProfile: ProfileState = {\n    passwordChange: {\n        success: false,\n    },\n    twoFactorAuth: {\n        barcode: '',\n        url: '',\n    },\n    tiers: {\n        tier: defaultTier,\n        disabled: false,\n    },\n    userData: {\n        user: defaultUser,\n        isFetching: true,\n    },\n    identity: {\n        profileIdentity: defaultProfileIdentity,\n        isFetching: true,\n    },\n};\n\nconst passwordChangeReducer = (state: ProfileState['passwordChange'], action: ProfileAction) => {\n    switch (action.type) {\n        case PROFILE_CHANGE_PASSWORD_FETCH:\n            return {\n                ...state,\n                success: false,\n                error: undefined,\n            };\n        case PROFILE_CHANGE_PASSWORD_DATA:\n            return {\n                ...state,\n                success: true,\n                error: undefined,\n            };\n        case PROFILE_CHANGE_PASSWORD_ERROR:\n            return  {\n                ...state,\n                error: action.payload,\n            };\n        default:\n            return state;\n    }\n};\n\nconst twoAuthReducer = (state: ProfileState['twoFactorAuth'], action: ProfileAction) => {\n    switch (action.type) {\n        case PROFILE_GENERATE_2FA_QRCODE_FETCH:\n            return {\n                ...state,\n                success: false,\n                error: undefined,\n                barcode: '',\n                url: '',\n            };\n        case PROFILE_GENERATE_2FA_QRCODE_DATA:\n            return {\n                ...state,\n                error: undefined,\n                barcode: action.payload.barcode,\n                url: action.payload.url,\n            };\n        case PROFILE_GENERATE_2FA_QRCODE_ERROR:\n            return {\n                ...state,\n                success: false,\n                error: action.payload,\n                barcode: '',\n                url: '',\n            };\n        case PROFILE_TOGGLE_2FA_FETCH:\n            return {\n                ...state,\n                success: false,\n                error: undefined,\n            };\n        case PROFILE_TOGGLE_2FA_DATA:\n            return {\n                ...state,\n                success: true,\n                error: undefined,\n            };\n        case PROFILE_TOGGLE_2FA_ERROR:\n            return {\n                ...state,\n                success: false,\n                error: action.payload,\n            };\n        default:\n            return state;\n    }\n};\n\nconst tiersReducer = (state: ProfileState['tiers'], action: ProfileAction) => {\n    switch (action.type) {\n        case PROFILE_TIERS_FETCH:\n            return {\n                ...state,\n                disabled: false,\n                error: undefined,\n                tier: defaultTier,\n            };\n        case PROFILE_TIERS_DATA:\n            return {\n                ...state,\n                error: undefined,\n                disabled: false,\n                tier: action.payload,\n            };\n        case PROFILE_TIERS_ERROR:\n            return {\n                ...state,\n                disabled: false,\n                error: action.payload,\n            };\n        case PROFILE_TIERS_DISABLE:\n            return {\n                ...state,\n                disabled: true,\n            };\n        default:\n            return state;\n    }\n};\n\nexport const userReducer = (state: ProfileState['userData'], action: ProfileAction) => {\n    switch (action.type) {\n        case PROFILE_USER_FETCH:\n            return {\n                ...state,\n                isFetching: true,\n            };\n        case PROFILE_USER_DATA:\n            return {\n                ...state,\n                isFetching: false,\n                user: action.payload.user,\n            };\n        case PROFILE_USER_ERROR:\n            return {\n                ...state,\n                isFetching: false,\n                error: action.payload,\n            };\n        case PROFILE_RESET_USER:\n            return {\n                ...state,\n                user: initialStateProfile.userData.user,\n            };\n        case PROFILE_CHANGE_USER_LEVEL:\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    level: action.payload.level,\n                },\n            };\n        case PROFILE_TOGGLE_USER_2FA:\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    otp: !state.user.otp,\n                },\n            };\n        default:\n            return state;\n    }\n};\n\nexport const profileIdentityReducer = (state: ProfileState['identity'], action: ProfileAction) => {\n    switch (action.type) {\n        case PROFILE_IDENTITY_FETCH:\n            return {\n                ...state,\n                isFetching: true,\n            };\n        case PROFILE_IDENTITY_DATA:\n            return {\n                ...state,\n                isFetching: false,\n                profileIdentity: action.payload,\n            };\n        case PROFILE_IDENTITY_ERROR:\n            return {\n                ...state,\n                isFetching: false,\n                error: action.payload,\n            };\n        default:\n            return state;\n    }\n};\n\nexport const profileReducer = (state = initialStateProfile, action: ProfileAction) => {\n    switch (action.type) {\n        case PROFILE_CHANGE_PASSWORD_FETCH:\n        case PROFILE_CHANGE_PASSWORD_DATA:\n        case PROFILE_CHANGE_PASSWORD_ERROR:\n            const passwordChangeState = { ...state.passwordChange };\n            return {\n                ...state,\n                passwordChange: passwordChangeReducer(passwordChangeState, action),\n            };\n\n        case PROFILE_GENERATE_2FA_QRCODE_FETCH:\n        case PROFILE_GENERATE_2FA_QRCODE_DATA:\n        case PROFILE_GENERATE_2FA_QRCODE_ERROR:\n        case PROFILE_TOGGLE_2FA_FETCH:\n        case PROFILE_TOGGLE_2FA_DATA:\n        case PROFILE_TOGGLE_2FA_ERROR:\n            const twoFactorAuthState = { ...state.twoFactorAuth };\n            return {\n                ...state,\n                twoFactorAuth: twoAuthReducer(twoFactorAuthState, action),\n            };\n\n        case PROFILE_TIERS_FETCH:\n        case PROFILE_TIERS_DATA:\n        case PROFILE_TIERS_DISABLE:\n        case PROFILE_TIERS_ERROR:\n            const tiersState = { ...state.tiers };\n            return {\n                ...state,\n                tiers: tiersReducer(tiersState, action),\n            };\n\n        case PROFILE_USER_FETCH:\n        case PROFILE_USER_DATA:\n        case PROFILE_RESET_USER:\n        case PROFILE_USER_ERROR:\n        case PROFILE_CHANGE_USER_LEVEL:\n        case PROFILE_TOGGLE_USER_2FA:\n            const userState = { ...state.userData };\n            return {\n                ...state,\n                userData: userReducer(userState, action),\n            };\n\n        case PROFILE_IDENTITY_FETCH:\n        case PROFILE_IDENTITY_DATA:\n        case PROFILE_IDENTITY_ERROR:\n            const profileIdentityState = { ...state.identity };\n            return {\n                ...state,\n                identity: profileIdentityReducer(profileIdentityState, action),\n            };\n        default:\n            return state;\n    }\n};\n"]},"metadata":{},"sourceType":"module"}